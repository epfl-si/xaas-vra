name: K8s Cluster
version: 1.0.1
formatVersion: 1
inputs:
  clusterName:
    type: string
    title: Cluster Name
    default: ''
  projectName:
    type: string
    title: Project name
    default: ''
  projectId:
    type: string
    title: Project ID
    default: ''
  data:
    type: string
    title: Data
    default: ''
  deploymentTag:
    type: string
    title: Environment
    enum:
      - Development
      - Test
      - Production
    default: Test
  plan:
    type: string
    title: Cluster Plan
    enum:
      - Tiny
      - Small
      - Medium
      - Large
    default: Tiny
  notificationMail:
    type: string
    title: Notification Mail
    default: maciej.macowicz@epfl.ch
  requestor:
    type: string
    title: Requestor
    default: macowicz
  reasonsForRequest:
    type: string
    title: Reason for request
    default: I need that!
resources:
  Cluster:
    type: Custom.XaasK8s.Cluster
    properties:
      clusterName: '${input.clusterName}'
      projectId: '${input.projectId}'
      projectName: '${input.projectName}'
      deploymentTag: '${input.deploymentTag}'
      data: '${input.data}'
      onboardOnly: 'false'
      notificationMail: '${input.notificationMail}'
      requestor: '${input.requestor}'
      reasonsForRequest: '${input.reasonsForRequest}'
      plan: '${input.plan}'
      tags:
        - key: environment
          value: '${input.deploymentTag}'
