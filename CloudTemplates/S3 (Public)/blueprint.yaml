name: S3 Bucket
version: 1.0.3
formatVersion: 1
inputs:
  friendlyName:
    type: string
    title: Bucket Friendly Name
    default: ''
  bucketName:
    type: string
    title: Bucket ID
    default: ''
  projectName:
    type: string
    title: Project name
    default: ''
  projectId:
    type: string
    title: Project ID
    default: ''
  data:
    type: string
    title: Data
    default: ''
  deploymentTag:
    type: string
    title: Environment
    enum:
      - Development
      - Test
      - Production
    default: Test
  linkedTo:
    type: string
    title: Linked to
    default: ''
  notificationMail:
    type: string
    title: Notification Mail
    default: maciej.macowicz@epfl.ch
  versioning:
    type: string
    title: Versioning?
    enum:
      - enabled
      - disabled
    default: disabled
  requestor:
    type: string
    title: Requestor
    default: macowicz
  reasonsForRequest:
    type: string
    title: Reason for request
    default: I need that!
resources:
  Bucket:
    type: Custom.XaasS3.Bucket
    properties:
      bucketName: '${input.bucketName}'
      friendlyName: '${input.friendlyName}'
      projectId: '${input.projectId}'
      projectName: '${input.projectName}'
      deploymentTag: '${input.deploymentTag}'
      data: '${input.data}'
      linkedTo: '${input.linkedTo}'
      onboardOnly: 'false'
      notificationMail: '${input.notificationMail}'
      requestor: '${input.requestor}'
      reasonsForRequest: '${input.reasonsForRequest}'
      versioning: '${input.versioning}'
      tags:
        - key: environment
          value: '${input.deploymentTag}'
