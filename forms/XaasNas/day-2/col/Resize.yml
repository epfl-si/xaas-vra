layout:
  pages:
  - id: page_DEBUG
    sections:
    - id: section_DEBUG
      fields:
      - id: checkbox_DEBUG
        display: checkbox
        state:
          visible: false
          read-only: false
        signpostPosition: right-middle
    - id: section_volume
      fields:
      - id: volume
        display: valuePicker
        state:
          visible: true
          read-only: true
        submit: false
        signpostPosition: right-middle
    - id: section_sizeGB
      fields:
      - id: textField_sizeGB
        display: textField
        state:
          visible: true
          read-only: true
        signpostPosition: right-middle
    - id: section_extension
      fields:
      - id: extension
        display: decimalField
        state:
          visible: true
          read-only: false
        signpostPosition: right-middle
    - id: section_newSizeGB
      fields:
      - id: textField_newSizeGB
        display: textField
        state:
          visible: true
          read-only: true
        signpostPosition: right-middle
    - id: section_snapPercent
      fields:
      - id: textField_snapPercent
        display: textField
        state:
          visible: true
          read-only: true
        signpostPosition: right-middle
    - id: section_price
      fields:
      - id: price
        display: textField
        state:
          visible: true
          read-only: true
        signpostPosition: right-middle
    title: General
    state: {}
schema:
  checkbox_DEBUG:
    label: DEBUG
    type:
      dataType: boolean
    default: false
    constraints: {}
  volume:
    label: Volume
    type:
      dataType: reference
      referenceType: DynamicTypes:XaasNas.Volume
    constraints:
      required: false
  textField_sizeGB:
    label: Volume Size (GB)
    type:
      dataType: string
    default:
      id: ch.epfl.xaas.customform.cache/getCacheInfoFldAsString
      type: scriptAction
      parameters:
      - $type:
          dataType: string
          isMultiple: false
        jsonPath: '`size.user.sizeGB`'
      - $type:
          dataType: string
          isMultiple: false
        filterValue: '``'
      - dtId: _resource.object.name
        $type:
          dataType: string
          isMultiple: false
      - $type:
          dataType: string
          isMultiple: false
        targetTenant: '``'
      - $type:
          dataType: string
          isMultiple: false
        dtName: _resource.object.namespace
      - $type:
          dataType: string
          isMultiple: false
        filterField: '``'
      - $type:
          dataType: string
          isMultiple: false
        jsonSubPath: '``'
    placeholder: ''
    constraints: {}
  extension:
    label: Extension (GB)
    type:
      dataType: decimal
    default: 1
    constraints:
      required: true
      min-value: 1
  textField_newSizeGB:
    label: New Size (GB)
    type:
      dataType: string
    default:
      id: ch.epfl.iaas.js/sumAsNumbers
      type: scriptAction
      parameters:
      - a: textField_sizeGB
        $type:
          dataType: string
          isMultiple: false
      - b: extension
        $type:
          dataType: decimal
          isMultiple: false
    placeholder: ''
    constraints: {}
  textField_snapPercent:
    label: Snapshot Percent
    type:
      dataType: string
    default:
      id: ch.epfl.xaas.customform.cache/getCacheInfoFldAsString
      type: scriptAction
      parameters:
      - $type:
          dataType: string
          isMultiple: false
        jsonPath: '`snapshots.reservePercent`'
      - $type:
          dataType: string
          isMultiple: false
        filterValue: '``'
      - dtId: _resource.object.name
        $type:
          dataType: string
          isMultiple: false
      - $type:
          dataType: string
          isMultiple: false
        targetTenant: '``'
      - $type:
          dataType: string
          isMultiple: false
        dtName: _resource.object.namespace
      - $type:
          dataType: string
          isMultiple: false
        filterField: '``'
      - $type:
          dataType: string
          isMultiple: false
        jsonSubPath: '``'
    placeholder: ''
    constraints: {}
  price:
    label: Price
    type:
      dataType: string
    default:
      id: ch.epfl.xaas.nas/getPrice
      type: scriptAction
      parameters:
      - $type:
          dataType: string
          isMultiple: false
        jsonPath: '``'
      - $type:
          dataType: string
          isMultiple: false
        sizeGB: textField_sizeGB
      - $type:
          dataType: decimal
          isMultiple: false
        extension: extension
      - $type:
          dataType: string
          isMultiple: false
        snapPercent: textField_snapPercent
    placeholder: ''
    constraints: {}
options:
  externalValidations: []
